!function(n){var t={};function e(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return n[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:o})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)e.d(o,r,function(t){return n[t]}.bind(null,r));return o},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=3)}([function(n,t,e){(n.exports=e(1)(!1)).push([n.i,".popup {\n  margin: 75px auto;\n  padding: 20px;\n  background: #fff;\n  border: 1px solid #666;\n  width: 300px;\n  position: relative; }\n  .popup .content {\n    max-height: 400px;\n    overflow: auto; }\n",""])},function(n,t,e){"use strict";n.exports=function(n){var t=[];return t.toString=function(){return this.map(function(t){var e=function(n,t){var e=n[1]||"",o=n[3];if(!o)return e;if(t&&"function"==typeof btoa){var r=(u=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(u))))+" */"),i=o.sources.map(function(n){return"/*# sourceURL="+o.sourceRoot+n+" */"});return[e].concat(i).concat([r]).join("\n")}var u;return[e].join("\n")}(t,n);return t[2]?"@media "+t[2]+"{"+e+"}":e}).join("")},t.i=function(n,e){"string"==typeof n&&(n=[[null,n,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(o[i]=!0)}for(r=0;r<n.length;r++){var u=n[r];null!=u[0]&&o[u[0]]||(e&&!u[2]?u[2]=e:e&&(u[2]="("+u[2]+") and ("+e+")"),t.push(u))}},t}},function(n,t){n.exports="<div class='overlay'>\n\t<div class='popup'>\n\t\t<h2>Info box</h2>\n\t\t<div class='content'>\n\t\t\t<p>This is done totally without JavaScript. Just HTML and CSS.</p>\n\t\t</div>\n\t</div>\n</div>\n"},function(n,t,e){"use strict";e.r(t);var o=function(){function n(n){this.path=n.view.location.pathname,this.type=n.type,this.timeStamp=n.timeStamp,this.touches=[];for(var t=0;t<n.touches.length;t++){var e=n.touches.item(t);if(!e)return;this.touches.push({identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,screenX:e.screenX,screenY:e.screenY,pageX:e.pageX,pageY:e.pageY,radiusX:e.radiusX,radiusY:e.radiusY,force:e.force,rotationAngle:e.rotationAngle})}}return n.listen=function(t){document.ontouchstart=n.listener,document.ontouchmove=n.listener,document.ontouchcancel=n.listener,document.ontouchend=n.listener,n.intervalNumber=setInterval(function(){n.actions.length<=0||(t(n.actions),n.actions=[])},n.timeout)},n.stop=function(){clearInterval(n.intervalNumber),document.ontouchstart=null,document.ontouchmove=null,document.ontouchcancel=null,document.ontouchend=null},n.timeout=5e3,n.actions=[],n.listener=function(t){t.isTrusted&&t instanceof TouchEvent&&n.actions.push(new n(t))},n}(),r=e(0).toString(),i=e(2),u=function(){function n(){}return n.show=function(){var n=document.getElementById("YukonDialog");if(!n){(n=document.createElement("div")).id="YukonDialog",n.innerHTML=i,document.body.appendChild(n);var t=document.createElement("style");t.innerHTML=r,document.body.appendChild(t),n.onclick=function(){return n.parentNode.removeChild(n)}}},n}(),c=function(){function n(){}return n.send=function(t){n.ws&&n.ws.send(t)},n.connect=function(t,e){"function"==typeof WebSocket?(n.ws=new WebSocket(n.WS_URL+"/"+t),n.ws.onopen=function(n){console.log("ws_onopen")},n.ws.onmessage=function(n){console.log("ws_onmessage: data="+n.data),n.data===e.watch&&e.action()},n.ws.onclose=function(o){console.log("ws_onclose: reason="+o.reason+", code="+o.code+", wasClean="+o.wasClean),n.timeOutNumber=setTimeout(function(){return n.connect(t,e)},n.reConnectTimeOut)},n.ws.onerror=function(n){console.log("ws_onerror: event="+JSON.stringify(n))}):console.log("WebSocket NOT supported by your Browser!")},n.close=function(){n.ws&&n.ws.close(),n.timeOutNumber&&clearTimeout(n.timeOutNumber)},n.reConnectTimeOut=1e3,n.WS_URL="wss://yukonws.herokuapp.com",n}(),a=function(){function n(){}return n.set=function(n,t){var e=new Date(Date.now()+31536e6).toUTCString();document.cookie=n+"="+t+";expires="+e+";path=/"},n.get=function(n){for(var t=n+"=",e=decodeURIComponent(document.cookie).split(";"),o=0;o<e.length;o++){for(var r=e[o];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}},n}(),s=function(){function n(){}return n.get=function(){var t="YUKON_UUID",e=a.get(t);return e||(a.set(t,n.generate()),a.get(t))},n.generate=function(){for(var n="",t=0;t<32;t++)n+=Math.floor(36*Math.random()).toString(36).toUpperCase();return n},n}();onload=function(){console.log("onload");var n=s.get();n&&(c.connect(n,{watch:"popup",action:u.show}),o.listen(function(n){return c.send(JSON.stringify(n))}))},onbeforeunload=function(){console.log("onbeforeunload"),o.stop(),c.close()}}]);